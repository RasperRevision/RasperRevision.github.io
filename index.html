<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rasper Revision</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"
    defer></script>
  <link href="style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body class="h-100 bg-dark">
  <section class="welcome d-flex flex-column h-100">
    <h1 class="welcome_title pt-5 m-0 text-center text-white"></h1>
    <div class="flex-grow-1">
      <div class="games d-flex p-5 w-100 h-100">
        <button class="game btn text-white fs-1 bg-danger game-matchup">Matchup</button>
        <button class="game btn text-white fs-1 bg-success game-quiz">Quiz</button>
        <button class="game btn text-white fs-1 bg-info game-blank">Fill in the Blank</button>
      </div>

      <div class="music-topics d-flex p-5 w-100 h-100">
        <button class="topic btn text-white fs-1 bg-danger">Dynamics</button>
        <button class="topic btn text-white fs-1 bg-warning">Melody</button>
        <button class="topic btn text-white fs-1 bg-info">Articulation</button>
      </div>

      <div class="history-topics d-flex p-5 w-100 h-100">
        <button class="topic btn text-white fs-1 bg-danger">Cold War</button>
      </div>

      <div class="compsci-topics d-flex flex-column p-5 w-100 h-100">
        <div class="d-flex w-100 flex-row" style="flex-basis: 100%">
          <button class="topic btn text-white fs-1 bg-primary">Unit 1: Algorithms</button>
          <button class="topic btn text-white fs-1 bg-warning">Unit 2: Programming</button>
          <button class="topic btn text-white fs-1 bg-success">Unit 3: Data representation</button>
        </div>
        <div class="d-flex w-100 flex-row" style="flex-basis: 100%">
          <button class="topic btn text-white fs-1 bg-info">Unit 4: Computer systems</button>
          <button class="topic btn text-white fs-1 bg-danger">Unit 5: Computer networks</button>
        </div>
      </div>

      <div class="english-lit-topics d-flex p-5 w-100 h-100">
        <button class="topic btn text-white fs-1 bg-danger">Macbeth quotes</button>
        <button class="topic btn text-white fs-1 bg-warning">A Christmas Carol quotes</button>
      </div>

      <div class="german-topics d-flex p-5 w-100 h-100">
        <button class="topic btn text-white fs-1 bg-danger">Daily life, food and drink</button>
      </div>

      <div class="chemistry-topics d-flex p-5 w-100 h-100">
        <button class="topic btn text-white fs-1 bg-danger">C1: Atomic structure</button>
      </div>

      <div class="physics-topics d-flex p-5 w-100 h-100">
        <button class="topic btn text-white fs-1 bg-danger">Equations</button>
      </div>

      <div class="subjects d-flex flex-column p-5 w-100 h-100">
        <div class="d-flex w-100 flex-row" style="flex-basis: 100%">
          <button class="subject btn text-white fs-1 bg-warning border-dark">Computer Science</button>
          <button class="subject btn text-white fs-1 bg-primary">English Literature</button>
          <button class="subject btn text-white fs-1 bg-danger">History</button>
          <button class="subject btn text-white fs-1 bg-turquoise">Chemistry</button>
        </div>
        <div class="d-flex w-100 flex-row" style="flex-basis: 100%">
          <button class="subject btn text-white fs-1 bg-purple">Music</button>
          <button class="subject btn text-white fs-1 bg-success">German</button>
          <button class="subject btn text-white fs-1 bg-info">Physics</button>
        </div>
      </div>
    </div>
  </section>

  <section class="quiz d-none w-100">
    <div class="quiz_stopwatch position-absolute top-0 fs-2 mx-4 my-2 text-white">00:00</div>
    <div class="quiz_content position-absolute left-0 right-0 w-100 bottom-50">
      <div class="key_term d-block text-center p-5 text-white fw-bold fs-4"></div>
      <button class="btn btn-danger return d-none mx-5 p-2 fs-6">Home</button>
      <div class="d-flex">
        <button class="btn opt1 text-white py-3 my-3" style="flex-basis: 100% !important;"></button>
        <button class="btn opt2 text-white py-3 my-3" style="flex-basis: 100% !important;"></button>
      </div>
      <div class="d-flex">
        <button class="btn opt3 text-white py-3 my-3" style="flex-basis: 100% !important;"></button>
        <button class="btn opt4 text-white py-3 my-3" style="flex-basis: 100% !important;"></button>
      </div>
    </div>
  </section>

  <div class="hamburger-icon" id="icon">
    <div class="icon-1" id="a"></div>
    <div class="icon-2" id="b"></div>
    <div class="icon-3" id="c"></div>
    <div class="clear"></div>
  </div>

    <div class="d-flex" id="wrapper">
    <div class="bg-black" id="sidebar">
      <div class="sidebar-heading">Rasper Revision</div>
      <ul class="list-group list-group-flush">
        <li class="mb-1">
          <button class="btn-toggle d-block w-100 rounded border-0 collapsed text-light list-group-item text-start"
            data-bs-toggle="collapse" data-bs-target="#activities-collapse">
            Activities
          </button>
          <div class="collapse" id="activities-collapse">
            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small ms-4">
              <li>
                <a href="/"
                  class="link-body-emphasis d-inline-flex text-decoration-none rounded text-light p-1 px-2">Home</a>
              </li>
              <li>
                <a href="/matchup/"
                  class="link-body-emphasis d-inline-flex text-decoration-none rounded text-light p-1 px-2">Matchup</a>
              </li>
              <li>
                <a href="/fill-in-the-blank/"
                  class="link-body-emphasis d-inline-flex text-decoration-none rounded text-light p-1 px-2">Fill in
                  the blank</a>
              </li>
            </ul>
          </div>
        </li>

        <a href="/about" class="list-group-item">About</a>
        <a href="/create" class="list-group-item">Create</a>
      </ul>
    </div>
  </div>

  <script src="quiz.js"></script>
  <script src="sidebar.js"></script>

  <script>
    function start() {
      const subjects = document.querySelectorAll('.subject');
      const topics = document.querySelectorAll('.topic');
      const games = document.querySelectorAll('.game');

      const subject_parent = document.querySelector('.subjects');

      const music_topic_parent = document.querySelector('.music-topics');
      const english_lit_topic_parent = document.querySelector('.english-lit-topics');
      const compsci_topic_parent = document.querySelector('.compsci-topics');
      const german_topic_parent = document.querySelector('.german-topics');
      const history_topic_parent = document.querySelector('.history-topics');
      const physics_topic_parent = document.querySelector('.physics-topics');
      const chemistry_topic_parent = document.querySelector('.chemistry-topics');

      const game_parent = document.querySelector('.games');

      const matchup_game = document.querySelector('.game-matchup');
      const quiz_game = document.querySelector('.game-quiz');
      const blank_game = document.querySelector('.game-blank');

      let title = document.querySelector('.welcome_title');

      let subject_chosen = "";
      let topic_chosen = "";
      let game_chosen = "";

      title.innerHTML = "Rasper Revision";

      music_topic_parent.classList.add('d-none');
      english_lit_topic_parent.classList.add('d-none');
      german_topic_parent.classList.add('d-none');
      history_topic_parent.classList.add('d-none');
      physics_topic_parent.classList.add('d-none');
      compsci_topic_parent.classList.add('d-none');
      chemistry_topic_parent.classList.add('d-none');

      game_parent.classList.add('d-none');

      subjects.forEach(function (subject) {
        subject.addEventListener('click', function () {
          subject_chosen = subject.innerHTML;
          subject_parent.classList.add('d-none');
          title.innerHTML = "Select a topic";
          if (subject_chosen == "Music") {
            music_topic_parent.classList.remove('d-none');
          } else if (subject_chosen == "English Literature") {
            english_lit_topic_parent.classList.remove('d-none');
          } else if (subject_chosen == "Computer Science") {
            compsci_topic_parent.classList.remove('d-none');
          } else if (subject_chosen == "German") {
            german_topic_parent.classList.remove('d-none');
          } else if (subject_chosen == "History") {
            history_topic_parent.classList.remove('d-none');
          } else if (subject_chosen == "Physics") {
            physics_topic_parent.classList.remove('d-none');
          } else if (subject_chosen == "Chemistry") {
            chemistry_topic_parent.classList.remove('d-none');
          }
        });
      });
      topics.forEach(function (topic) {
        topic.addEventListener('click', function () {
          topic_chosen = topic.innerHTML;
          title.innerHTML = "Select an activity";
          game_parent.classList.remove('d-none');
          if (subject_chosen == "Music") {
            music_topic_parent.classList.add('d-none');
            blank_game.classList.add('d-none');
          } else if (subject_chosen == "English Literature") {
            english_lit_topic_parent.classList.add('d-none');
            if (topic_chosen == "Macbeth quotes") {
              matchup_game.classList.add('d-none');
              quiz_game.classList.add('d-none');
            } else if (topic_chosen == "A Christmas Carol quotes") {
              matchup_game.classList.add('d-none');
              quiz_game.classList.add('d-none');
            }
          } else if (subject_chosen == "Computer Science") {
            compsci_topic_parent.classList.add('d-none');
            if (topic_chosen == "Unit 1: Algorithms") {
              blank_game.classList.add('d-none');
              matchup_game.classList.add('d-none');
              topic_chosen = "unit1";
            } else if (topic_chosen == "Unit 2: Programming") {
              blank_game.classList.add('d-none');
              matchup_game.classList.add('d-none');
              topic_chosen = "unit2";
            } else if (topic_chosen == "Unit 3: Data representation") {
              blank_game.classList.add('d-none');
              matchup_game.classList.add('d-none');
              topic_chosen = "unit3";
            } else if (topic_chosen == "Unit 4: Computer systems") {
              blank_game.classList.add('d-none');
              matchup_game.classList.add('d-none');
              topic_chosen = "unit4";
            } else if (topic_chosen == "Unit 5: Computer networks") {
              blank_game.classList.add('d-none');
              matchup_game.classList.add('d-none');
              topic_chosen = "unit5";
            }
          } else if (subject_chosen == "German") {
            german_topic_parent.classList.add('d-none');
            if (topic_chosen == "Daily life, food and drink") {
              blank_game.classList.add('d-none');
              matchup_game.classList.add('d-none');
              topic_chosen = "daily-life-food-drink";
            }
          } else if (subject_chosen == "History") {
            history_topic_parent.classList.add('d-none');
            if (topic_chosen == "Cold War") {
              matchup_game.classList.add('d-none');
              topic_chosen = "cold_war";
            }
          } else if (subject_chosen == "Physics") {
            physics_topic_parent.classList.add('d-none');
            if (topic_chosen == "Equations") {
              title.innerHTML = "Loading...";
              blank_game.classList.add('d-none');
              matchup_game.classList.add('d-none');
              quiz_game.classList.add('d-none');
              window.location.href = '/equations?json=' + encodeURIComponent("physics_equations.json");
            }
          } else if (subject_chosen == "Chemistry") {
            chemistry_topic_parent.classList.add('d-none');
            if (topic_chosen == "C1: Atomic structure") {
              matchup_game.classList.add('d-none');
              blank_game.classList.add('d-none');
              topic_chosen = "c1";
            }
          }
        });
      });
      games.forEach(function (game) {
        game.addEventListener('click', function () {
          game_chosen = game.innerHTML;
          game_parent.classList.add('d-none');
          title.classList.add('d-none');

          if (game_chosen == "Matchup") {
            location.href = '/matchup/?json=' + topic_chosen + '.json';
          } else if (game_chosen == "Quiz") {
            document.querySelector(".quiz").classList.remove('d-none');
            startQuizStopwatch();
            quiz(subject_chosen, topic_chosen);
          } else if (game_chosen == "Fill in the Blank") {
            var jsonFile;
            if (topic_chosen == "Macbeth quotes") {
              jsonFile = 'macbeth.json';
            } else if (topic_chosen == "A Christmas Carol quotes") {
              jsonFile = 'christmas_carol.json';
            } else {
              jsonFile = 'coldwarquotes.json';
            }

            window.location.href = '/fill-in-the-blank?json=' + encodeURIComponent(jsonFile);
          }
        });
      });
    }


    start();
  </script>

</body>

</html>
