<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rasper Revision</title>

  <!-- JQUERY -->
  <script src="node_modules/jquery/dist/js/jquery.min.js"></script>

  <!-- BOOTSTRAP STYLES -->
  <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

  <!-- BOOTSTRAP SCRIPTS-->
  <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"
    defer></script>

  <!-- BOOTSTRAP ICONS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- STYLES -->
  <link href="/style.css" rel="stylesheet">
</head>

<body>
  <section class="flex_col">
    <h1 class="welcome_title">Rasper Revision</h1>
    <div style="flex-grow:1">
      <div class="games home_btn_row invis" style="padding: 50px;">
        <button class="game home_btn danger game-matchup">Matchup</button>
        <button class="game home_btn success game-quiz">Quiz</button>
        <button class="game home_btn info game-blank">Fill in the Blank</button>
      </div>

      <div class="music-topics home_btn_row invis" style="padding: 50px;">
        <button class="topic home_btn danger">Dynamics</button>
        <button class="topic home_btn warning">Melody</button>
        <button class="topic home_btn info">Articulation</button>
      </div>

      <div class="history-topics home_btn_row invis" style="padding: 50px;">
        <button class="topic home_btn danger">Cold War</button>
      </div>

      <div class="compsci-topics flex_col invis" style="padding: 50px;">
        <div class="home_btn_row" style="flex-basis: 100%;">
          <button class="topic home_btn primary">Unit 1: Algorithms</button>
          <button class="topic home_btn warning">Unit 2: Programming</button>
          <button class="topic home_btn success">Unit 3: Data representation</button>
        </div>
        <div class="home_btn_row" style="flex-basis: 100%;">
          <button class="topic home_btn info">Unit 4: Computer systems</button>
          <button class="topic home_btn danger">Unit 5: Computer networks</button>
        </div>
      </div>

      <div class="english-lit-topics home_btn_row invis" style="padding: 50px;">
        <button class="topic home_btn danger">Macbeth quotes</button>
        <button class="topic home_btn warning">A Christmas Carol quotes</button>
      </div>

      <div class="german-topics home_btn_row invis" style="padding: 50px;">
        <button class="topic home_btn danger">Daily life, food and drink</button>
      </div>

      <div class="chemistry-topics home_btn_row invis" style="padding: 50px;">
        <button class="topic home_btn lime">C1: Atomic structure</button>
        <button class="topic home_btn danger">C2: Structure and bonding</button>
      </div>

      <div class="physics-topics home_btn_row invis" style="padding: 50px;">
        <button class="topic home_btn danger">Equations</button>
      </div>

      <div class="subjects flex_col h100" style="padding: 50px;">
        <div class="home_btn_row" style="flex-basis: 100%">
          <button class="subject home_btn turquoise">Computer Science</button>
          <button class="subject home_btn success">English Literature</button>
          <button class="subject home_btn danger">History</button>
          <button class="subject home_btn orange">Chemistry</button>
        </div>
        <div class="home_btn_row" style="flex-basis: 100%">
          <button class="subject home_btn purple">Music</button>
          <button class="subject home_btn warning">German</button>
          <button class="subject home_btn lime">Physics</button>
        </div>
      </div>
    </div>
  </section>

  <script src="/sidebar.js"></script>

  <script>
    function start() {
      const subjects = document.querySelectorAll('.subject');
      const topics = document.querySelectorAll('.topic');
      const games = document.querySelectorAll('.game');

      const subject_parent = document.querySelector('.subjects');

      const music_topic_parent = document.querySelector('.music-topics');
      const english_lit_topic_parent = document.querySelector('.english-lit-topics');
      const compsci_topic_parent = document.querySelector('.compsci-topics');
      const german_topic_parent = document.querySelector('.german-topics');
      const history_topic_parent = document.querySelector('.history-topics');
      const physics_topic_parent = document.querySelector('.physics-topics');
      const chemistry_topic_parent = document.querySelector('.chemistry-topics');

      const game_parent = document.querySelector('.games');

      const matchup_game = document.querySelector('.game-matchup');
      const quiz_game = document.querySelector('.game-quiz');
      const blank_game = document.querySelector('.game-blank');

      let title = document.querySelector('.welcome_title');

      let subject_chosen = "";
      let topic_chosen = "";
      let game_chosen = "";

      // Add event listener to each subject button that makes the corresponding topic buttons appear.
      subjects.forEach(function (subject) {
        subject.addEventListener('click', function () {
          subject_chosen = subject.innerHTML;
          subject_parent.classList.add('invis');
          title.innerHTML = "Select a topic";
          if (subject_chosen == "Music") {
            music_topic_parent.classList.remove('invis');
          } else if (subject_chosen == "English Literature") {
            english_lit_topic_parent.classList.remove('invis');
          } else if (subject_chosen == "Computer Science") {
            compsci_topic_parent.classList.remove('invis');
          } else if (subject_chosen == "German") {
            german_topic_parent.classList.remove('invis');
          } else if (subject_chosen == "History") {
            history_topic_parent.classList.remove('invis');
          } else if (subject_chosen == "Physics") {
            physics_topic_parent.classList.remove('invis');
          } else if (subject_chosen == "Chemistry") {
            chemistry_topic_parent.classList.remove('invis');
          }
        });
      });

      // Adds event listener to each topic button that makes the corresponding activity buttons appear.
      topics.forEach(function (topic) {
        topic.addEventListener('click', function () {
          topic_chosen = topic.innerHTML;
          title.innerHTML = "Select an activity";
          game_parent.classList.remove('invis');
          if (subject_chosen == "Music") {
            music_topic_parent.classList.add('invis');
            blank_game.classList.add('invis');
          } else if (subject_chosen == "English Literature") {
            english_lit_topic_parent.classList.add('invis');
            if (topic_chosen == "Macbeth quotes") {
              matchup_game.classList.add('invis');
              quiz_game.classList.add('invis');
            } else if (topic_chosen == "A Christmas Carol quotes") {
              matchup_game.classList.add('invis');
              quiz_game.classList.add('invis');
            }
          } else if (subject_chosen == "Computer Science") {
            compsci_topic_parent.classList.add('invis');
            if (topic_chosen == "Unit 1: Algorithms") {
              blank_game.classList.add('invis');
              matchup_game.classList.add('invis');
              topic_chosen = "unit1";
            } else if (topic_chosen == "Unit 2: Programming") {
              blank_game.classList.add('invis');
              matchup_game.classList.add('invis');
              topic_chosen = "unit2";
            } else if (topic_chosen == "Unit 3: Data representation") {
              blank_game.classList.add('invis');
              matchup_game.classList.add('invis');
              topic_chosen = "unit3";
            } else if (topic_chosen == "Unit 4: Computer systems") {
              blank_game.classList.add('invis');
              matchup_game.classList.add('invis');
              topic_chosen = "unit4";
            } else if (topic_chosen == "Unit 5: Computer networks") {
              blank_game.classList.add('invis');
              matchup_game.classList.add('invis');
              topic_chosen = "unit5";
            }
          } else if (subject_chosen == "German") {
            german_topic_parent.classList.add('invis');
            if (topic_chosen == "Daily life, food and drink") {
              blank_game.classList.add('invis');
              matchup_game.classList.add('invis');
              topic_chosen = "daily-life-food-drink";
            }
          } else if (subject_chosen == "History") {
            history_topic_parent.classList.add('invis');
            if (topic_chosen == "Cold War") {
              matchup_game.classList.add('invis');
              topic_chosen = "cold_war";
            }
          } else if (subject_chosen == "Physics") {
            physics_topic_parent.classList.add('invis');
            if (topic_chosen == "Equations") {
              title.innerHTML = "Loading...";
              blank_game.classList.add('invis');
              matchup_game.classList.add('invis');
              quiz_game.classList.add('invis');
              window.location.href = '/equations?json=' + encodeURIComponent("physics_equations.json");
            }
          } else if (subject_chosen == "Chemistry") {
            chemistry_topic_parent.classList.add('invis');
            if (topic_chosen == "C1: Atomic structure") {
              matchup_game.classList.add('invis');
              blank_game.classList.add('invis');
              topic_chosen = "c1";
            } else if (topic_chosen == "C2: Structure and bonding") {
              matchup_game.classList.add('invis');
              blank_game.classList.add('invis');
              topic_chosen = "c2";
            }
          }
        });
      });
      // Adds event listeners to each activity button to start the corresponding game with the corresponding JSON file.
      games.forEach(function (game) {
        game.addEventListener('click', function () {
          game_chosen = game.innerHTML;
          game_parent.classList.add('invis');
          title.classList.add('invis');

          if (game_chosen == "Matchup") {
            location.href = '/matchup/?json=' + topic_chosen;
          } else if (game_chosen == "Quiz") {
            location.href = '/quiz/?json=' + topic_chosen + '.json';
          } else if (game_chosen == "Fill in the Blank") {
            if (topic_chosen == "Macbeth quotes") {
              window.location.href = '/fill-in-the-blank?json=macbeth.json'
            } else if (topic_chosen == "A Christmas Carol quotes") {
              window.location.href = '/fill-in-the-blank?json=christmas_carol.json'
            } else if (topic_chosen == "cold_war") {
              window.location.href = '/fill-in-the-blank?json=coldwarquotes.json'
            }
          }
        });
      });
    }

    start();
  </script>

</body>

</html>